<section class="mx-auto flex max-w-[1440px] items-center justify-between gap-12 md:gap-24 p-4 px-4">
  <div class="flex items-center gap-3 pl-4">
    <img class="size-12 lg:size-20" src="/imgs/logo.svg" /><span class="text-2xl font-bold sm:text-3xl cursor-default">DABubble</span>
  </div>
  <div clickOutside (clickOutside)="closeDropdown()" class="relative grow hidden lg:block">
    <input
      matInput
      type="text"
      placeholder="Devspace durchsuchen"
      [(ngModel)]="searchTerm"
      (focus)="onFocus()"
      (input)="onSearchInput($event)"
      class="h-12 w-full rounded-full bg-white py-2 pr-10 pl-12 text-gray-500 focus:outline-none" />
    <mat-icon class="absolute top-1/2 right-12 -translate-y-1/2"> search </mat-icon>
    <app-filter-box *ngIf="dropdownOpen" [searchTerm]="searchTerm" (close)="closeDropdown()"></app-filter-box>
  </div>
  <div class="hover-me flex items-center gap-4" (click)="openUserMenu()">
    <p class="hidden sm:block font-nunito sm:text-2xl md:text-3xl font-bold">{{ currentUser()?.name || 'Gast' }}</p>
    <div class="relative">
      <img class="size-10 md:size-14 lg:size-16 rounded-full" [src]="currentUser()?.photoUrl || 'imgs/default-profile-picture.png'" />
      <span
        class="absolute right-0 bottom-0 size-3 lg:size-4 rounded-full border-2 border-white"
        [ngClass]="currentUser()?.onlineStatus ? 'bg-green-500' : 'bg-gray-400'"
        title="{{ currentUser()?.onlineStatus ? 'Online' : 'Offline' }}">
      </span>
    </div>
    <button #menuBtn class="size-6 hidden lg:block" matIconButton>
      <mat-icon>keyboard_arrow_down</mat-icon>
    </button>
  </div>
</section>

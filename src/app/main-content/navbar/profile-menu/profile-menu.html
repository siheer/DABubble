<section
  *ngIf="visible"
  @scaleAnimation
  (@scaleAnimation.done)="onAnimationDone($event)"
  class="pointer-events-auto flex h-120 w-[290px] flex-col items-center justify-center gap-6 rounded-2xl bg-white shadow-xl sm:w-[360px] sm:gap-4 lg:w-[440px] lg:rounded-tl-2xl lg:rounded-tr-none lg:rounded-br-2xl lg:rounded-bl-2xl">
  <div class="flex w-full items-center justify-between px-6">
    <h2>Profil</h2>
    <button (click)="closeOverlay()"><span class="material-icons close">close</span></button>
  </div>
  <img class="mb-10 size-40 rounded-full sm:mb-5" [src]="getAvatarUrl(currentUser()?.profilePictureKey)" />
  <div class="flex w-full flex-col gap-2 px-6">
    <div class="flex items-center gap-3">
      <h3 class="min-w-0 flex-1 truncate">
        {{ currentUser()?.name || 'Gast' }}
      </h3>

      <button type="button" class="edit-btn shrink-0 lg:hidden" (click)="editProfile()">
        <div class="icon-wrapper">
          <img class="icon icon-default" src="imgs/edit.png" alt="Profil bearbeiten" />
          <img class="icon icon-active" src="imgs/edit_focus.png" alt="" />
        </div>
      </button>

      <button class="edit hidden shrink-0 lg:block" (click)="editProfile()">Bearbeiten</button>
    </div>
    <div class="flex items-center gap-2">
      <div class="status"></div>
      <p class="status-text">Aktiv</p>
    </div>
  </div>
  <div class="flex w-full gap-4 px-6">
    <span class="material-icons">mail_outline</span>
    <div class="flex flex-col gap-4">
      <h4>E-Mail-Adresse</h4>
      <p class="mail">{{ currentUser()?.email }}</p>
    </div>
  </div>
</section>
